<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ä¸ªäººç†¬å¤œæˆæœ¬è®¡ç®—å™¨ï¼ˆä¿®å¤ç‰ˆï¼‰</title>
    <style>
        /* å®Œå…¨ä¿ç•™åŸæ ·å¼ï¼Œæœªä½œæ”¹åŠ¨ï¼Œä¿è¯è§†è§‰ä¸€è‡´ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .result-section {
            padding: 40px;
        }
        
        .input-section {
            background: #f8f9fa;
            border-right: 1px solid #e0e0e0;
        }
        
        .section-title {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #3498db;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        .form-group .hint {
            font-size: 13px;
            color: #7f8c8d;
            margin-top: 5px;
            font-weight: normal;
        }
        
        input[type="number"], 
        input[type="text"],
        select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dce1e6;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .radio-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .radio-group label {
            cursor: pointer;
            display: flex;
            align-items: center;
            padding: 10px 20px;
            border: 2px solid #dce1e6;
            border-radius: 8px;
            transition: all 0.3s;
            font-weight: normal;
        }
        
        .radio-group input[type="radio"] {
            margin-right: 8px;
        }
        
        .radio-group input[type="radio"]:checked + span {
            color: #3498db;
            font-weight: 600;
        }
        
        .radio-group label:has(input[type="radio"]:checked) {
            border-color: #3498db;
            background: #e8f4fc;
        }
        
        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);
        }
        
        .calculate-btn:active {
            transform: translateY(0);
        }
        
        .result-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            display: none;
        }
        
        .result-card.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .total-cost {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .total-cost .amount {
            font-size: 48px;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .total-cost .percentage {
            font-size: 20px;
            opacity: 0.95;
        }
        
        .cost-breakdown {
            display: grid;
            gap: 15px;
        }
        
        .cost-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }
        
        .cost-item.health {
            border-left-color: #e74c3c;
        }
        
        .cost-item.work {
            border-left-color: #f39c12;
        }
        
        .cost-item.medical {
            border-left-color: #9b59b6;
        }
        
        .cost-item h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .cost-item .amount {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin: 10px 0;
        }
        
        .formula-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-family: "Courier New", monospace;
            font-size: 14px;
            margin: 10px 0;
            border: 1px dashed #bdc3c7;
        }
        
        .detail-list {
            list-style: none;
            padding: 0;
            margin-top: 10px;
        }
        
        .detail-list li {
            padding: 8px 0;
            border-bottom: 1px solid #ecf0f1;
            font-size: 14px;
            color: #5a6c7d;
        }
        
        .detail-list li:last-child {
            border-bottom: none;
        }
        
        .data-source {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
            margin-top: 10px;
        }
        
        .data-source strong {
            color: #856404;
        }
        
        .reference-section {
            background: #e8f5e9;
            padding: 25px;
            border-radius: 15px;
            margin-top: 25px;
            border: 1px solid #4caf50;
        }
        
        .reference-section h3 {
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .reference-list {
            font-size: 13px;
            color: #1b5e20;
            line-height: 1.8;
        }
        
        .reference-list li {
            margin-bottom: 8px;
        }
        
        .methodology-section {
            background: #f0f4c3;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            border: 1px solid #c0ca33;
        }
        
        .methodology-section h3 {
            color: #827717;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .methodology-section p {
            color: #5d4037;
            line-height: 1.8;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .warning-box {
            background: #ffebee;
            border: 1px solid #ef5350;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .warning-box h4 {
            color: #c62828;
            margin-bottom: 10px;
        }
        
        .warning-box p {
            color: #b71c1c;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .suggestion-box {
            background: #e3f2fd;
            border: 1px solid #42a5f5;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .suggestion-box h4 {
            color: #1565c0;
            margin-bottom: 10px;
        }
        
        .suggestion-box p {
            color: #0d47a1;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .comparison-chart {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
        }
        
        .chart-bar {
            margin: 15px 0;
        }
        
        .chart-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
            color: #2c3e50;
        }
        
        .bar-container {
            height: 30px;
            background: #ecf0f1;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .bar-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 1s ease;
        }
        
        .bar-fill.health { background: linear-gradient(90deg, #e74c3c, #c0392b); }
        .bar-fill.work { background: linear-gradient(90deg, #f39c12, #e67e22); }
        .bar-fill.medical { background: linear-gradient(90deg, #9b59b6, #8e44ad); }
        
        .sleep-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .sleep-status.severe {
            background: #e74c3c;
            color: white;
        }
        
        .sleep-status.mild {
            background: #f39c12;
            color: white;
        }
        
        .sleep-status.normal {
            background: #27ae60;
            color: white;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            color: #3498db;
            font-weight: normal;
        }
        
        .tooltip:hover::after {
            content: attr(data-tip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 12px;
            background: #2c3e50;
            color: white;
            font-size: 12px;
            border-radius: 5px;
            white-space: nowrap;
            z-index: 100;
        }
        
        footer {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
            font-size: 14px;
        }
        
        footer a {
            color: #3498db;
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ™ ä¸ªäººç†¬å¤œæˆæœ¬è®¡ç®—å™¨</h1>
            <p>ç§‘å­¦é‡åŒ–ç†¬å¤œå¸¦æ¥çš„å¥åº·é£é™©ä¸ç»æµæŸå¤± | åŸºäºæƒå¨åŒ»å­¦æ–‡çŒ®</p>
        </div>
        
        <div class="main-content">
            <div class="input-section">
                <h2 class="section-title">ğŸ“ è¯·è¾“å…¥æ‚¨çš„åŸºæœ¬ä¿¡æ¯</h2>
                
                <form id="calculatorForm">
                    <div class="form-group">
                        <label>
                            æ‚¨çš„å¹´é¾„
                            <span class="hint">ï¼ˆå½±å“ç–¾ç—…é£é™©è¯„ä¼°ï¼‰</span>
                        </label>
                        <input type="number" id="age" min="18" max="100" required placeholder="ä¾‹å¦‚ï¼š30" value="30">
                    </div>
                    
                    <div class="form-group">
                        <label>æ‚¨çš„æ€§åˆ«</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="gender" value="male" checked>
                                <span>ç”·</span>
                            </label>
                            <label>
                                <input type="radio" name="gender" value="female">
                                <span>å¥³</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            å¹³å‡æ¯æ™šç¡çœ æ—¶é•¿
                            <span class="hint">ï¼ˆå»ºè®®æˆäººæ¯å¤©ç¡7-9å°æ—¶ï¼‰</span>
                        </label>
                        <div style="display: flex; gap: 10px;">
                            <input type="number" id="sleepHours" min="0" max="24" required placeholder="å°æ—¶" style="flex: 1;" value="6">
                            <input type="number" id="sleepMinutes" min="0" max="59" placeholder="åˆ†é’Ÿ" style="flex: 1;" value="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ç¡çœ è´¨é‡è‡ªè¯„</label>
                        <select id="sleepQuality">
                            <option value="good">è‰¯å¥½ - å®¹æ˜“å…¥ç¡ï¼Œæ·±åº¦ç¡çœ å¤š</option>
                            <option value="normal" selected>ä¸€èˆ¬ - å¶å°”æœ‰å…¥ç¡å›°éš¾æˆ–æ˜“é†’</option>
                            <option value="poor">è¾ƒå·® - ç»å¸¸å¤±çœ ã€å¤šæ¢¦ã€æ˜“é†’</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            æ¯æœˆç¨åæ”¶å…¥ï¼ˆå…ƒï¼‰
                            <span class="hint">ï¼ˆç”¨äºè®¡ç®—å·¥ä½œæ•ˆç‡æŸå¤±ï¼‰</span>
                        </label>
                        <input type="number" id="monthlyIncome" min="0" required placeholder="ä¾‹å¦‚ï¼š8000" value="8000">
                    </div>
                    
                    <div class="form-group">
                        <label>èŒä¸šç±»å‹</label>
                        <select id="occupation">
                            <option value="office">åŠå…¬å®¤å·¥ä½œï¼ˆæ–‡èŒã€ç®¡ç†ã€ITç­‰ï¼‰</option>
                            <option value="labor">ä½“åŠ›åŠ³åŠ¨ï¼ˆå»ºç­‘ã€åˆ¶é€ ã€ç‰©æµç­‰ï¼‰</option>
                            <option value="service">æœåŠ¡ä¸šï¼ˆé¤é¥®ã€é”€å”®ã€å®¢æœç­‰ï¼‰</option>
                            <option value="freelance">è‡ªç”±èŒä¸š/ä¸ªä½“ç»è¥</option>
                            <option value="other">å…¶ä»–</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            è¿‡å»ä¸€å¹´å› ç—…ç¼ºå‹¤å¤©æ•°
                            <span class="hint">ï¼ˆé€‰å¡«ï¼Œå¸®åŠ©æ›´å‡†ç¡®è®¡ç®—ï¼‰</span>
                        </label>
                        <input type="number" id="absentDays" min="0" max="365" placeholder="ä¾‹å¦‚ï¼š5" value="0">
                    </div>
                    
                    <div class="form-group">
                        <label>æ˜¯å¦å·²æ‚£ä»¥ä¸‹æ…¢æ€§ç—…ï¼Ÿï¼ˆå¯å¤šé€‰ï¼Œå·²åœ¨æ²»ç–—ä¸­çš„ç–¾ç—…ï¼‰</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                            <label style="padding: 8px 15px; border: 2px solid #dce1e6; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" id="hasCVD"> å¿ƒè¡€ç®¡ç–¾ç—…
                            </label>
                            <label style="padding: 8px 15px; border: 2px solid #dce1e6; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" id="hasDiabetes"> ç³–å°¿ç—…
                            </label>
                            <label style="padding: 8px 15px; border: 2px solid #dce1e6; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" id="hasHypertension"> é«˜è¡€å‹
                            </label>
                            <label style="padding: 8px 15px; border: 2px solid #dce1e6; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" id="hasStroke"> å’ä¸­ç—…å²
                            </label>
                        </div>
                    </div>
                    
                    <button type="submit" class="calculate-btn">ğŸ”¬ å¼€å§‹è®¡ç®—</button>
                </form>
            </div>
            
            <div class="result-section">
                <h2 class="section-title">ğŸ“Š è®¡ç®—ç»“æœ</h2>
                
                <div id="resultContainer">
                    <div class="result-card" style="display: block; background: #f0f4c3; border: 1px solid #c0ca33;">
                        <p style="color: #5d4037; line-height: 1.8; font-size: 15px;">
                            <strong>ğŸ‘† è¯·åœ¨å·¦ä¾§å¡«å†™æ‚¨çš„ä¿¡æ¯ï¼Œç‚¹å‡»"å¼€å§‹è®¡ç®—"æŒ‰é’®</strong><br><br>
                            æœ¬è®¡ç®—å™¨å°†åŸºäºæƒå¨åŒ»å­¦ç ”ç©¶ï¼Œä¸ºæ‚¨è®¡ç®—ç†¬å¤œå¸¦æ¥çš„å¥åº·é£é™©æˆæœ¬ã€å·¥ä½œæ•ˆç‡æŸå¤±å’Œé¢å¤–åŒ»ç–—æ”¯å‡ºï¼Œå¸®åŠ©æ‚¨ç›´è§‚äº†è§£ç¡çœ ä¸è¶³çš„ç»æµä»£ä»·ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div style="padding: 40px; background: #f8f9fa;">
            <h2 class="section-title" style="text-align: center;">ğŸ“š è®¡ç®—æ–¹æ³•ä¸æ•°æ®æ¥æºè¯´æ˜</h2>
            
            <div class="methodology-section">
                <h3>ğŸ”¬ è®¡ç®—æ–¹æ³•è¯´æ˜</h3>
                <p><strong>ä¸€ã€å¥åº·é£é™©æˆæœ¬è®¡ç®—</strong></p>
                <p>å…¬å¼ï¼šå¥åº·é£é™©æˆæœ¬ = ç¡çœ ä¸è¶³äººç¾¤æ¯”ä¾‹ Ã— (ç›¸å¯¹é£é™©-1) Ã— åŸºç¡€å‘ç—…ç‡ Ã— å¹´å‡åŒ»ç–—è´¹ç”¨</p>
                <p>è¯´æ˜ï¼šé‡‡ç”¨"å½’å› é£é™©"æ–¹æ³•ï¼Œè®¡ç®—å› ç¡çœ ä¸è¶³å¯¼è‡´çš„é¢å¤–ç–¾ç—…å‘ç”Ÿæ¦‚ç‡ï¼Œå†ä¹˜ä»¥ç–¾ç—…åŒ»ç–—æˆæœ¬ã€‚</p>
                
                <p style="margin-top: 15px;"><strong>äºŒã€å·¥ä½œæ•ˆç‡æŸå¤±è®¡ç®—</strong></p>
                <p>ç¼ºå‹¤æˆæœ¬ = å¹´å·¥ä½œæ—¥ Ã— é¢å¤–ç¼ºå‹¤ç‡ Ã— æ—¥å·¥èµ„</p>
                <p>å‡ºå‹¤éšœç¢æˆæœ¬ = å¹´å·¥èµ„ Ã— æ•ˆç‡æŸå¤±æ¯”ä¾‹</p>
                <p>è¯´æ˜ï¼šå‚è€ƒå¤šé¡¹å›½é™…ç ”ç©¶ï¼Œç¡çœ ä¸è¶³ä¼šå¯¼è‡´ç¼ºå‹¤ç‡å¢åŠ å’Œå·¥ä½œæ•ˆç‡ä¸‹é™ã€‚</p>
                
                <p style="margin-top: 15px;"><strong>ä¸‰ã€é¢å¤–åŒ»ç–—æ”¯å‡ºè®¡ç®—</strong></p>
                <p>é¢å¤–åŒ»ç–—æ”¯å‡º = åŸºç¡€åŒ»ç–—è´¹ç”¨ Ã— é¢å¤–æ”¯å‡ºæ¯”ä¾‹</p>
                <p>è¯´æ˜ï¼šç¡çœ éšœç¢æ‚£è€…çš„åŒ»ç–—æ”¯å‡ºæ˜¾è‘—é«˜äºæ­£å¸¸äººï¼Œæœ¬è®¡ç®—å™¨é‡‡ç”¨ä¿å®ˆä¼°è®¡ã€‚</p>
            </div>
            
            <div class="reference-section">
                <h3>ğŸ“– æƒå¨æ–‡çŒ®æ¥æº</h3>
                <ol class="reference-list">
                    <li><strong>Cappuccio FPç­‰</strong> - ã€Šæ¬§æ´²å¿ƒè„æ‚å¿—ã€‹Metaåˆ†æ (2011)ï¼šç¡çœ æ—¶é•¿ä¸å¿ƒè¡€ç®¡ç–¾ç—…é£é™©ç ”ç©¶ï¼Œæ¶µç›–15é¡¹å‰ç»æ€§ç ”ç©¶</li>
                    <li><strong>Hafner Mç­‰</strong> - RAND Corporationè·¨å›½ç ”ç©¶ (2017)ï¼šç¡çœ ä¸è¶³å¯¹ç»æµçš„å½±å“ï¼Œé‡åŒ–ç¾å›½ã€æ—¥æœ¬ã€è‹±å›½ç­‰å›½GDPæŸå¤±</li>
                    <li><strong>Huyett P & Bhattacharyya N</strong> - ã€Šä¸´åºŠç¡çœ åŒ»å­¦æ‚å¿—ã€‹(2021)ï¼šç¡çœ éšœç¢æ‚£è€…é¢å¤–åŒ»ç–—æ”¯å‡ºç ”ç©¶</li>
                    <li><strong>Rosekind MRç­‰</strong> - Kansaså·å‘˜å·¥å¥åº·è®¡åˆ’ç ”ç©¶ (2015)ï¼šç¡çœ é—®é¢˜ä¸å·¥ä½œæ•ˆç‡ã€åŒ»ç–—æˆæœ¬å…³ç³»</li>
                    <li><strong>ä¸­å›½ç¡çœ ç ”ç©¶ä¼š</strong> - ã€Š2025ä¸­å›½ç¡çœ å¥åº·ç ”ç©¶ç™½çš®ä¹¦ã€‹ï¼šä¸­å›½äººç¾¤ç¡çœ ç°çŠ¶æ•°æ®</li>
                    <li><strong>å›½å®¶å«ç”Ÿå¥åº·å§”</strong> - ã€Šä¸­å›½å¿ƒè¡€ç®¡å¥åº·ä¸ç–¾ç—…æŠ¥å‘Š2019ã€‹ï¼šä¸­å›½äººç¾¤ç–¾ç—…å‘ç—…ç‡æ•°æ®</li>
                    <li><strong>å›½å®¶ç»Ÿè®¡å±€</strong> - ã€Š2023å¹´åŸé•‡å•ä½å°±ä¸šäººå‘˜å¹´å¹³å‡å·¥èµ„æƒ…å†µã€‹ï¼šä¸­å›½åŠ³åŠ¨åŠ›å·¥èµ„æ•°æ®</li>
                </ol>
            </div>
            
            <div class="warning-box">
                <h4>âš ï¸ é‡è¦è¯´æ˜</h4>
                <p>1. æœ¬è®¡ç®—å™¨ç»“æœä¸ºåŸºäºæµè¡Œç—…å­¦ç»Ÿè®¡æ•°æ®çš„ä¼°ç®—å€¼ï¼Œä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—è¯Šæ–­ã€‚</p>
                <p>2. ä¸ªä½“å¥åº·çŠ¶å†µå—å¤šç§å› ç´ å½±å“ï¼Œå®é™…é£é™©å¯èƒ½é«˜äºæˆ–ä½äºè®¡ç®—ç»“æœã€‚</p>
                <p>3. è®¡ç®—é‡‡ç”¨ä¿å®ˆä¼°è®¡æ–¹æ³•ï¼Œå®é™…ç†¬å¤œæˆæœ¬å¯èƒ½æ›´é«˜ã€‚</p>
                <p>4. å¦‚æ‚¨å·²æœ‰ç›¸å…³ç–¾ç—…ï¼Œå»ºè®®å’¨è¯¢åŒ»ç”Ÿåˆ¶å®šä¸ªæ€§åŒ–æ²»ç–—æ–¹æ¡ˆã€‚</p>
            </div>
            
            <div class="suggestion-box">
                <h4>ğŸ’¡ æ”¹å–„ç¡çœ å»ºè®®</h4>
                <p>â€¢ <strong>è§„å¾‹ä½œæ¯</strong>ï¼šæ¯å¤©å›ºå®šæ—¶é—´ç¡è§‰å’Œèµ·åºŠï¼Œå‘¨æœ«ä¹Ÿä¸ä¾‹å¤–</p>
                <p>â€¢ <strong>ç¡å‰å‡†å¤‡</strong>ï¼šç¡å‰1å°æ—¶è¿œç¦»ç”µå­å±å¹•ï¼Œé¿å…å’–å•¡å› å’Œé…’ç²¾</p>
                <p>â€¢ <strong>ç¡çœ ç¯å¢ƒ</strong>ï¼šä¿æŒå§å®¤å®‰é™ã€é»‘æš—ã€å‡‰çˆ½ï¼ˆ18-22Â°Cï¼‰</p>
                <p>â€¢ <strong>æ”¾æ¾èº«å¿ƒ</strong>ï¼šç¡å‰å¯è¿›è¡Œå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æ¸©æ°´æ³¡è„š</p>
                <p>â€¢ <strong>å¯»æ±‚å¸®åŠ©</strong>ï¼šå¦‚é•¿æœŸç¡çœ é—®é¢˜ï¼Œå»ºè®®å’¨è¯¢ç¡çœ ç§‘åŒ»ç”Ÿ</p>
            </div>
        </div>
        
        <footer>
            <p>æœ¬è®¡ç®—å™¨åŸºäºå…¬å¼€å­¦æœ¯æ–‡çŒ®å¼€å‘ | è®¡ç®—æ–¹æ³•å‚è€ƒæƒå¨åŒ»å­¦ç ”ç©¶</p>
            <p style="margin-top: 10px;">æ•°æ®æ¥æºè¯¦è§ä¸Šæ–¹æ–‡çŒ®åˆ—è¡¨ | å»ºè®®æ­é…ä¸“ä¸šåŒ»ç–—å’¨è¯¢ä½¿ç”¨</p>
        </footer>
    </div>
    
    <script>
        // ==================== æ ¸å¿ƒè®¡ç®—å‡½æ•° (ä¿®å¤ç‰ˆ) ====================
        function calculateCost(data) {
            // ç¡çœ æ—¶é•¿åˆ¤æ–­ï¼ˆå°æ—¶ï¼‰
            const sleepHours = data.sleepHours + data.sleepMinutes / 60;
            let sleepStatus, efficiencyLoss, absenceRate, medicalExtra;
            
            if (sleepHours < 6) {
                sleepStatus = 'severe';
                efficiencyLoss = 0.15;  // 15%æ•ˆç‡æŸå¤±
                absenceRate = 0.04;      // 4%é¢å¤–ç¼ºå‹¤ç‡
                medicalExtra = 2000;     // é¢å¤–åŒ»ç–—æ”¯å‡º2000å…ƒ
            } else if (sleepHours < 7) {
                sleepStatus = 'mild';
                efficiencyLoss = 0.08;   // 8%æ•ˆç‡æŸå¤±
                absenceRate = 0.02;      // 2%é¢å¤–ç¼ºå‹¤ç‡
                medicalExtra = 1000;     // é¢å¤–åŒ»ç–—æ”¯å‡º1000å…ƒ
            } else {
                sleepStatus = 'normal';
                efficiencyLoss = 0;
                absenceRate = 0;
                medicalExtra = 0;
            }
            
            // ç¡çœ è´¨é‡è°ƒæ•´ï¼ˆä»…å½“ç¡çœ ä¸è¶³æ—¶è°ƒæ•´ï¼Œè‹¥æœ¬èº«ä¸º0åˆ™ä¿æŒ0ï¼‰
            if (data.sleepQuality === 'poor') {
                efficiencyLoss *= 1.3;
                medicalExtra *= 1.5;
            } else if (data.sleepQuality === 'good') {
                efficiencyLoss *= 0.8;
                medicalExtra *= 0.7;
            }
            
            const annualIncome = data.monthlyIncome * 12;
            const workDays = 250;                     // å¹´å·¥ä½œæ—¥çº¦250å¤©
            const dailyWage = annualIncome / workDays;
            
            // ----- å¥åº·é£é™©æˆæœ¬è®¡ç®—ï¼ˆæ”¹è¿›ï¼šä½¿ç”¨ä¸ªäººæš´éœ²ï¼Œä¸å†ä½¿ç”¨å›ºå®šäººç¾¤æ¯”ä¾‹Pï¼‰-----
            // ä¸ªäººæ˜¯å¦ç¡çœ ä¸è¶³æš´éœ²å› å­ï¼šå°äº7å°æ—¶å³ä¸ºæš´éœ² (æ ¹æ®ç¡çœ åŒ»å­¦é€šå¸¸å®šä¹‰)
            const exposure = (sleepHours < 7) ? 1 : 0;
            
            // å„ç–¾ç—…åŸºç¡€å‚æ•° (ç›¸å¯¹é£é™©RRæ¥è‡ªæ–‡çŒ®ï¼Œå‘ç—…ç‡Iå’ŒåŒ»ç–—è´¹ç”¨Cå‚è€ƒä¸­å›½æ•°æ®)
            // å¿ƒè¡€ç®¡ç–¾ç—… RR=1.48, å‘ç—…ç‡0.5%, å¹´å‡è´¹ç”¨20000å…ƒ
            const cvdCost = (!data.hasCVD && exposure) ? (1.48 - 1) * 0.005 * 20000 : 0;
            // ç³–å°¿ç—… RR=1.60, å‘ç—…ç‡1.0%, å¹´å‡è´¹ç”¨9594å…ƒ
            const dmCost = (!data.hasDiabetes && exposure) ? (1.60 - 1) * 0.01 * 9594 : 0;
            // é«˜è¡€å‹ RR=1.17, å‘ç—…ç‡2.5%, å¹´å‡è´¹ç”¨6000å…ƒ
            const htCost = (!data.hasHypertension && exposure) ? (1.17 - 1) * 0.025 * 6000 : 0;
            // å’ä¸­ RR=1.15, å‘ç—…ç‡0.2%, å¹´å‡è´¹ç”¨30000å…ƒ
            const strokeCost = (!data.hasStroke && exposure) ? (1.15 - 1) * 0.002 * 30000 : 0;
            
            const totalHealthCost = cvdCost + dmCost + htCost + strokeCost;
            
            // å·¥ä½œæ•ˆç‡æŸå¤±
            const absenceCost = workDays * absenceRate * dailyWage;
            const presenteeismCost = annualIncome * efficiencyLoss;
            const totalWorkCost = absenceCost + presenteeismCost;
            
            // é¢å¤–åŒ»ç–—æ”¯å‡º (å·²æ ¹æ®ç¡çœ è´¨é‡å’Œæ—¶é•¿è°ƒæ•´)
            const medicalCost = medicalExtra;
            
            // æ€»æˆæœ¬
            const totalCost = totalHealthCost + totalWorkCost + medicalCost;
            const costPercentage = annualIncome > 0 ? (totalCost / annualIncome * 100) : 0;
            
            return {
                sleepStatus,
                sleepHours,
                totalCost,
                costPercentage,
                healthCosts: { cvd: cvdCost, dm: dmCost, ht: htCost, stroke: strokeCost },
                totalHealthCost,
                absenceCost,
                presenteeismCost,
                totalWorkCost,
                medicalCost,
                efficiencyLoss,
                absenceRate,
                annualIncome,
                dailyWage,
                workDays
            };
        }

        // ==================== æ˜¾ç¤ºç»“æœ (å®Œå…¨ä¿ç•™åŸå±•ç¤ºé€»è¾‘ï¼Œåªé€‚é…æ•°æ®) ====================
        function displayResults(result, data) {
            const statusText = {
                'severe': 'ä¸¥é‡ç¡çœ ä¸è¶³',
                'mild': 'è½»åº¦ç¡çœ ä¸è¶³',
                'normal': 'ç¡çœ å……è¶³'
            };
            
            const statusColor = {
                'severe': '#e74c3c',
                'mild': '#f39c12',
                'normal': '#27ae60'
            };
            
            const html = `
                <div class="result-card show">
                    <div style="margin-bottom: 20px; padding: 15px; background: ${statusColor[result.sleepStatus]}20; border-radius: 10px; border-left: 4px solid ${statusColor[result.sleepStatus]};">
                        <p style="font-size: 16px; color: #2c3e50;">
                            <strong>æ‚¨çš„ç¡çœ çŠ¶å†µï¼š</strong>
                            ${result.sleepHours.toFixed(1)}å°æ—¶/æ™š
                            <span class="sleep-status ${result.sleepStatus}">${statusText[result.sleepStatus]}</span>
                        </p>
                    </div>
                    
                    <div class="total-cost">
                        <p>å¹´åº¦ç†¬å¤œæ€»æˆæœ¬</p>
                        <div class="amount">Â¥${result.totalCost.toFixed(0)}</div>
                        <div class="percentage">å å¹´æ”¶å…¥çš„ ${result.costPercentage.toFixed(1)}%</div>
                    </div>
                    
                    <div class="comparison-chart">
                        <h4 style="color: #2c3e50; margin-bottom: 15px;">æˆæœ¬æ„æˆæ¯”ä¾‹</h4>
                        <div class="chart-bar">
                            <div class="chart-label">
                                <span>å¥åº·é£é™©æˆæœ¬</span>
                                <span>Â¥${result.totalHealthCost.toFixed(0)}</span>
                            </div>
                            <div class="bar-container">
                                <div class="bar-fill health" style="width: ${result.totalCost > 0 ? (result.totalHealthCost/result.totalCost*100) : 0}%"></div>
                            </div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-label">
                                <span>å·¥ä½œæ•ˆç‡æŸå¤±</span>
                                <span>Â¥${result.totalWorkCost.toFixed(0)}</span>
                            </div>
                            <div class="bar-container">
                                <div class="bar-fill work" style="width: ${result.totalCost > 0 ? (result.totalWorkCost/result.totalCost*100) : 0}%"></div>
                            </div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-label">
                                <span>é¢å¤–åŒ»ç–—æ”¯å‡º</span>
                                <span>Â¥${result.medicalCost.toFixed(0)}</span>
                            </div>
                            <div class="bar-container">
                                <div class="bar-fill medical" style="width: ${result.totalCost > 0 ? (result.medicalCost/result.totalCost*100) : 0}%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="result-card show">
                    <h3 style="color: #e74c3c; margin-bottom: 15px;">ğŸ’° å¥åº·é£é™©æˆæœ¬ï¼šÂ¥${result.totalHealthCost.toFixed(2)}/å¹´</h3>
                    
                    <ul class="detail-list">
                        <li>
                            <strong>å¿ƒè¡€ç®¡ç–¾ç—…é£é™©ï¼š</strong>Â¥${result.healthCosts.cvd.toFixed(2)}
                            ${data.hasCVD ? '<span style="color: #27ae60;">ï¼ˆå·²æ‚£ç—…ï¼Œå·²æ’é™¤ï¼‰</span>' : ''}
                        </li>
                        <li>
                            <strong>ç³–å°¿ç—…é£é™©ï¼š</strong>Â¥${result.healthCosts.dm.toFixed(2)}
                            ${data.hasDiabetes ? '<span style="color: #27ae60;">ï¼ˆå·²æ‚£ç—…ï¼Œå·²æ’é™¤ï¼‰</span>' : ''}
                        </li>
                        <li>
                            <strong>é«˜è¡€å‹é£é™©ï¼š</strong>Â¥${result.healthCosts.ht.toFixed(2)}
                            ${data.hasHypertension ? '<span style="color: #27ae60;">ï¼ˆå·²æ‚£ç—…ï¼Œå·²æ’é™¤ï¼‰</span>' : ''}
                        </li>
                        <li>
                            <strong>å’ä¸­é£é™©ï¼š</strong>Â¥${result.healthCosts.stroke.toFixed(2)}
                            ${data.hasStroke ? '<span style="color: #27ae60;">ï¼ˆå·²æ‚£ç—…ï¼Œå·²æ’é™¤ï¼‰</span>' : ''}
                        </li>
                    </ul>
                    
                    <div class="formula-box">
                        <strong>è®¡ç®—å…¬å¼ï¼š</strong><br>
                        å•é¡¹é£é™©æˆæœ¬ = ä¸ªäººæš´éœ² Ã— (RR-1) Ã— I Ã— C<br>
                        å…¶ä¸­ï¼šä¸ªäººæš´éœ²=1ï¼ˆå¦‚æœç¡çœ ä¸è¶³7å°æ—¶ï¼‰ï¼ŒRR=ç›¸å¯¹é£é™©ï¼ŒI=åŸºç¡€å‘ç—…ç‡ï¼ŒC=åŒ»ç–—è´¹ç”¨
                    </div>
                    
                    <div class="data-source">
                        <strong>ğŸ“Š æ•°æ®æ¥æºï¼š</strong><br>
                        â€¢ ç›¸å¯¹é£é™©(RR)ï¼šå›½é™…Metaåˆ†æç ”ç©¶<br>
                        â€¢ å‘ç—…ç‡ï¼šä¸­å›½å¿ƒè¡€ç®¡ç—…æŠ¥å‘Šã€ä¸­å›½ç³–å°¿ç—…æµè¡Œç—…å­¦è°ƒæŸ¥<br>
                        â€¢ åŒ»ç–—è´¹ç”¨ï¼šä¸­å›½å«ç”Ÿå¥åº·ç»Ÿè®¡å¹´é‰´
                    </div>
                </div>
                
                <div class="result-card show">
                    <h3 style="color: #f39c12; margin-bottom: 15px;">ğŸ’¼ å·¥ä½œæ•ˆç‡æŸå¤±ï¼šÂ¥${result.totalWorkCost.toFixed(0)}/å¹´</h3>
                    
                    <ul class="detail-list">
                        <li><strong>ç¼ºå‹¤æˆæœ¬ï¼š</strong>Â¥${result.absenceCost.toFixed(0)}</li>
                        <li><strong>å‡ºå‹¤éšœç¢æˆæœ¬ï¼š</strong>Â¥${result.presenteeismCost.toFixed(0)}</li>
                    </ul>
                    
                    <div class="formula-box">
                        <strong>è®¡ç®—å…¬å¼ï¼š</strong><br>
                        ç¼ºå‹¤æˆæœ¬ = ${result.workDays}å¤© Ã— ${(result.absenceRate*100).toFixed(0)}% Ã— Â¥${result.dailyWage.toFixed(0)}/å¤© = Â¥${result.absenceCost.toFixed(0)}<br>
                        å‡ºå‹¤éšœç¢æˆæœ¬ = Â¥${result.annualIncome.toFixed(0)} Ã— ${(result.efficiencyLoss*100).toFixed(0)}% = Â¥${result.presenteeismCost.toFixed(0)}
                    </div>
                    
                    <div class="data-source">
                        <strong>ğŸ“Š æ•°æ®æ¥æºï¼š</strong><br>
                        â€¢ RAND Corporationè·¨å›½ç ”ç©¶ï¼šç¡çœ ä¸è¶³å¯¼è‡´çš„ç”Ÿäº§åŠ›æŸå¤±<br>
                        â€¢ Kansaså·å‘˜å·¥å¥åº·è®¡åˆ’ï¼šç¡çœ é—®é¢˜ä¸å·¥ä½œæ•ˆç‡å…³ç³»<br>
                        â€¢ ç¼ºå‹¤ç‡æ•°æ®ï¼šåŸºäºç¡çœ ä¸è¶³äººç¾¤çš„é¢å¤–ç¼ºå‹¤ç»Ÿè®¡
                    </div>
                    
                    <p style="margin-top: 15px; font-size: 13px; color: #7f8c8d;">
                        <strong>ğŸ’¡ æœ¯è¯­è§£é‡Šï¼š</strong><br>
                        â€¢ <strong>ç¼ºå‹¤æˆæœ¬</strong>ï¼šå› å¥åº·é—®é¢˜æ— æ³•ä¸Šç­é€ æˆçš„å·¥èµ„æŸå¤±<br>
                        â€¢ <strong>å‡ºå‹¤éšœç¢æˆæœ¬</strong>ï¼šè™½ç„¶ä¸Šç­ä½†å› ç–²åŠ³å¯¼è‡´å·¥ä½œæ•ˆç‡ä¸‹é™é€ æˆçš„ç»æµæŸå¤±
                    </p>
                </div>
                
                <div class="result-card show">
                    <h3 style="color: #9b59b6; margin-bottom: 15px;">ğŸ¥ é¢å¤–åŒ»ç–—æ”¯å‡ºï¼šÂ¥${result.medicalCost.toFixed(0)}/å¹´</h3>
                    
                    <div class="formula-box">
                        <strong>è®¡ç®—ä¾æ®ï¼š</strong><br>
                        ç¡çœ éšœç¢æ‚£è€…çš„å¹´å‡åŒ»ç–—æ”¯å‡ºæ¯”æ­£å¸¸äººé«˜å‡ºçº¦7000å…ƒï¼ˆå›½é™…æ•°æ®ï¼‰<br>
                        æœ¬è®¡ç®—å™¨é‡‡ç”¨ä¿å®ˆä¼°è®¡ï¼Œå¹¶æ ¹æ®æ‚¨çš„ç¡çœ çŠ¶å†µè°ƒæ•´
                    </div>
                    
                    <div class="data-source">
                        <strong>ğŸ“Š æ•°æ®æ¥æºï¼š</strong><br>
                        â€¢ Huyett & Bhattacharyya (2021)ï¼šç¾å›½ç¡çœ éšœç¢æ‚£è€…é¢å¤–åŒ»ç–—æ”¯å‡ºç ”ç©¶<br>
                        â€¢ ç ”ç©¶å‘ç°ï¼šç¡çœ éšœç¢æ‚£è€…åŒ»ç–—æ”¯å‡ºæ¯”æ­£å¸¸äººé«˜60%ï¼Œçº¦å¤š7000ç¾å…ƒ/å¹´
                    </div>
                    
                    <p style="margin-top: 15px; font-size: 13px; color: #7f8c8d;">
                        <strong>è¯´æ˜ï¼š</strong>è¿™éƒ¨åˆ†æˆæœ¬åæ˜ äº†ç¡çœ ä¸è¶³å¯¼è‡´çš„æ›´å¤šé—¨è¯Šã€æ€¥è¯Šã€å¤„æ–¹è¯ä½¿ç”¨ç­‰åŒ»ç–—éœ€æ±‚ã€‚
                    </p>
                </div>
                
                <div class="result-card show" style="background: #e8f5e9; border: 2px solid #4caf50;">
                    <h3 style="color: #2e7d32; margin-bottom: 15px;">ğŸ“ˆ å¦‚æœæ”¹å–„ç¡çœ ï¼Œæ‚¨å¯ä»¥èŠ‚çœå¤šå°‘ï¼Ÿ</h3>
                    <p style="color: #1b5e20; line-height: 1.8; margin-bottom: 15px;">
                        æ ¹æ®ç ”ç©¶ï¼Œå¦‚æœå°†ç¡çœ æ—¶é—´æé«˜åˆ°7å°æ—¶ä»¥ä¸Šï¼Œæ‚¨æ¯å¹´å¯èƒ½èŠ‚çœï¼š
                    </p>
                    <p style="font-size: 32px; font-weight: 700; color: #2e7d32; text-align: center; margin: 20px 0;">
                        Â¥${result.totalCost.toFixed(0)}
                    </p>
                    <p style="color: #1b5e20; line-height: 1.8;">
                        è¿™ç›¸å½“äºæ¯å¹´å¤šèµš${(result.totalCost / data.monthlyIncome).toFixed(1)}ä¸ªæœˆçš„å·¥èµ„ï¼
                    </p>
                </div>
            `;
            
            document.getElementById('resultContainer').innerHTML = html;
        }

        // ==================== è¡¨å•æäº¤å¤„ç† (å®Œæ•´è·å–æ‰€æœ‰å­—æ®µï¼Œé˜»æ­¢åˆ·æ–°) ====================
        document.getElementById('calculatorForm').addEventListener('submit', function(e) {
            e.preventDefault();  // å…³é”®ï¼šé˜»æ­¢é¡µé¢åˆ·æ–°
            
            // è·å–å„ä¸ªè¾“å…¥å€¼ï¼Œå¹¶å¤„ç†å¯èƒ½çš„ç©ºå€¼ (ç»™ä¸é»˜è®¤å€¼é˜²æ­¢NaN)
            const ageVal = parseInt(document.getElementById('age').value, 10);
            const age = isNaN(ageVal) ? 30 : ageVal;
            
            const gender = document.querySelector('input[name="gender"]:checked')?.value || 'male';
            
            let sleepHours = parseFloat(document.getElementById('sleepHours').value);
            if (isNaN(sleepHours) || sleepHours < 0) sleepHours = 7; // é»˜è®¤7å°æ—¶
            
            let sleepMinutes = parseFloat(document.getElementById('sleepMinutes').value);
            if (isNaN(sleepMinutes) || sleepMinutes < 0) sleepMinutes = 0;
            if (sleepMinutes > 59) sleepMinutes = 59;
            
            const sleepQuality = document.getElementById('sleepQuality').value;
            
            let monthlyIncome = parseFloat(document.getElementById('monthlyIncome').value);
            if (isNaN(monthlyIncome) || monthlyIncome < 0) monthlyIncome = 5000; // é»˜è®¤5000å…ƒ
            
            const occupation = document.getElementById('occupation').value; // è™½æœªä½¿ç”¨ï¼Œä½†ä¿ç•™è·å–
            
            // æ…¢æ€§ç—…å¤é€‰æ¡† (å¸ƒå°”å€¼)
            const hasCVD = document.getElementById('hasCVD').checked;
            const hasDiabetes = document.getElementById('hasDiabetes').checked;
            const hasHypertension = document.getElementById('hasHypertension').checked;
            const hasStroke = document.getElementById('hasStroke').checked;
            
            // æ„å»ºæ•°æ®å¯¹è±¡ (ç¬¦åˆcalculateCostæœŸæœ›)
            const data = {
                age: age,
                gender: gender,
                sleepHours: sleepHours,
                sleepMinutes: sleepMinutes,
                sleepQuality: sleepQuality,
                monthlyIncome: monthlyIncome,
                occupation: occupation,      // å¤‡ç”¨
                hasCVD: hasCVD,
                hasDiabetes: hasDiabetes,
                hasHypertension: hasHypertension,
                hasStroke: hasStroke
            };
            
            // è®¡ç®—å¹¶æ˜¾ç¤º
            const result = calculateCost(data);
            displayResults(result, data);
        });
    </script>
</body>
</html>